<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion Agents ğŸ‘®â€â™‚ï¸</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-192.png">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="app-header">
            <h1>ğŸ‘® Gestion Agents</h1>
            <div class="header-actions">
                <button id="btnSync" class="btn btn-secondary">ğŸ”„ Sync</button>
                <button id="btnInstall" class="btn btn-primary" style="display:none;">ğŸ“± Installer</button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <button class="nav-btn active" data-section="dashboard">ğŸ“Š Dashboard</button>
            <button class="nav-btn" data-section="agents">ğŸ‘¥ Agents</button>
            <button class="nav-btn" data-section="planning">ğŸ“… Planning</button>
            <button class="nav-btn" data-section="stats">ğŸ“ˆ Stats</button>
            <button class="nav-btn" data-section="radios">ğŸ“» Radios</button>
        </nav>

        <!-- Sections de contenu -->
        <main class="main-content">
            <!-- Dashboard -->
            <section id="dashboard" class="content-section active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Agents Actifs</h3>
                        <span id="statAgents" class="stat-number">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>PrÃ©sents Aujourd'hui</h3>
                        <span id="statPresents" class="stat-number">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>Radios Disponibles</h3>
                        <span id="statRadios" class="stat-number">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>Shifts Ce Mois</h3>
                        <span id="statShifts" class="stat-number">0</span>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Actions Rapides</h3>
                    <div class="action-buttons">
                        <button class="action-btn" onclick="showSection('agents')">
                            <span>â•</span>
                            Ajouter Agent
                        </button>
                        <button class="action-btn" onclick="showSection('planning')">
                            <span>ğŸ“…</span>
                            Voir Planning
                        </button>
                        <button class="action-btn" onclick="genererPlanningMensuel()">
                            <span>ğŸ”„</span>
                            GÃ©nÃ©rer Planning
                        </button>
                        <button class="action-btn" onclick="exporterExcel()">
                            <span>ğŸ“Š</span>
                            Exporter Excel
                        </button>
                    </div>
                </div>
            </section>

            <!-- Gestion des Agents -->
            <section id="agents" class="content-section">
                <div class="section-header">
                    <h2>Gestion des Agents</h2>
                    <button class="btn btn-primary" onclick="showModal('modalAgent')">â• Nouvel Agent</button>
                </div>
                
                <div class="search-bar">
                    <input type="text" id="searchAgent" placeholder="ğŸ” Rechercher un agent..." class="search-input">
                </div>

                <div id="listeAgents" class="agents-list">
                    <!-- Liste dynamique des agents -->
                </div>
            </section>

            <!-- Planning -->
            <section id="planning" class="content-section">
                <div class="section-header">
                    <h2>Planning Mensuel</h2>
                    <div class="month-selector">
                        <button onclick="changeMonth(-1)">â—€</button>
                        <span id="currentMonth">Janvier 2024</span>
                        <button onclick="changeMonth(1)">â–¶</button>
                    </div>
                </div>

                <div class="filters">
                    <select id="filterGroupe" onchange="filtrerPlanning()">
                        <option value="">Tous les groupes</option>
                        <option value="A">Groupe A</option>
                        <option value="B">Groupe B</option>
                        <option value="C">Groupe C</option>
                        <option value="D">Groupe D</option>
                        <option value="E">Groupe E</option>
                    </select>
                </div>

                <div id="planningContainer" class="planning-container">
                    <!-- Planning dynamique -->
                </div>
            </section>

            <!-- Statistiques -->
            <section id="stats" class="content-section">
                <h2>Statistiques</h2>
                <div id="statsContainer">
                    <!-- Statistiques dynamiques -->
                </div>
            </section>

            <!-- Radios -->
            <section id="radios" class="content-section">
                <h2>Gestion des Radios</h2>
                <div id="radiosContainer">
                    <!-- Gestion radios dynamique -->
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <div id="modalAgent" class="modal">
        <div class="modal-content">
            <h3>Ajouter/Modifier Agent</h3>
            <form id="formAgent">
                <input type="hidden" id="agentId">
                <div class="form-group">
                    <label>Code Agent:</label>
                    <input type="text" id="codeAgent" required>
                </div>
                <div class="form-group">
                    <label>Nom:</label>
                    <input type="text" id="nomAgent" required>
                </div>
                <div class="form-group">
                    <label>PrÃ©nom:</label>
                    <input type="text" id="prenomAgent" required>
                </div>
                <div class="form-group">
                    <label>Groupe:</label>
                    <select id="groupeAgent" required>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" onclick="hideModal('modalAgent')">Annuler</button>
                    <button type="submit">Enregistrer</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/database.js"></script>
    <script src="js/app.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>
